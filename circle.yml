experimental:
  picard:
    version: 0.1
    executorType: docker
    containerInfo:
      - image: ubuntu:14.04
        # specify cmd if image does not have a Command set already
        cmd: ["/bin/bash"]
      - image: mongo:2.6.8
        cmd: [mongod, --smallfiles]
      - image: postgres:9.4.1
        # some containers require environment variables
        env:
          - POSTGRES_USER=root
      - image: redis:2.8.19
      - image: rabbitmq:3.5.4
    stages:
      build:
        workDir: /home/ubuntu/my-project
        steps:
          #- type: checkout
          ## Add an entry to /etc/hosts
          - type: shell
            shell: /bin/bash
            command: echo 127.0.0.1 devhost | sudo tee -a /etc/hosts
          # Create Postgres users and database, shows how to use a YAML heredoc
          # to provide nicer formatting
